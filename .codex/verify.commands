cd backend && ./.venv/bin/ruff check .
cd backend && ./.venv/bin/ruff format --check .
cd backend && ./.venv/bin/mypy main.py api clients security observability routers/auth.py routers/webhooks.py routers/settings.py routers/ingest.py routers/clusters.py routers/incidents.py routers/reports.py
cd backend && ./.venv/bin/pytest -q -m "unit"
cd backend && ./.venv/bin/pytest -q -m "integration"
cd backend && ./.venv/bin/pytest -q -m "contract"
bash scripts/export_openapi.sh
npx -y @stoplight/spectral-cli lint /tmp/openapi.yaml -r openapi/.spectral.yaml
bash scripts/check_migration_safety.sh
backend/.venv/bin/python scripts/migration_rehearsal.py
cd backend && ./.venv/bin/pip-audit --skip-editable
cd backend && ./.venv/bin/semgrep --config p/owasp-top-ten --error
bash scripts/secret_scan.sh
